<div class="grid">
  @for (p of (photos$ | async); track p.id) {
  <a [routerLink]="['/photos', p.id]" class="tile" aria-label="Open photo">
    <img [src]="p.download_url" [alt]="p.author" loading="lazy" />
    <button
      class="fav-btn"
      [class.active]="favorites.has(p.id)"
      title="Toggle favorite"
      (click)="onToggleFavorite($event, p)"
    >
      â˜…
    </button>
  </a>
  }
</div>

<div
  class="sentinel"
  appInfiniteScroll
  (reachedBottom)="onBottom()"
  [disabled]="(loading$ | async) === true"
></div>

@if ((loading$ | async) === true) {
<div class="loader-wrap"><app-loader></app-loader></div>
}
